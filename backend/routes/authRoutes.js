const express = require('express');\nconst User = require('../models/User');\nconst jwt = require('jsonwebtoken');\nconst bcrypt = require('bcryptjs');\nconst router = express.Router();\n// Register route\nrouter.post('/register', async (req, res) => {\n  try {\n    const { username, password } = req.body;\n    const hashedPassword = bcrypt.hashSync(password, 8);\n    const user = new User({ username, password: hashedPassword });\n    await user.save();\n    res.status(201).send({ message: 'User registered successfully' });\n  } catch (error) {\n    res.status(400).send(error);\n  }\n});\n// Login route\nrouter.post('/login', async (req, res) => {\n  try {\n    const { username, password } = req.body;\n    const user = await User.findOne({ username });\n    if (!user || !bcrypt.compareSync(password, user.password)) {\n      return res.status(401).send({ message: 'Invalid username or password' });\n    }\n    const token = jwt.sign({ id: user._id }, 'yourSecretKey', { expiresIn: '1h' });\n    res.status(200).send({ auth: true, token });\n  } catch (error) {\n    res.status(500).send(error);\n  }\n});\nmodule.exports = router;
